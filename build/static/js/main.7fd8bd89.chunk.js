(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(40)},26:function(e,t,a){},28:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(9),o=a.n(c),l=(a(26),a(20)),i=a(2),r=(a(27),a(28),a(3)),m=a(4),u=a(7),d=a(6),v=a(8),p=a(17),h=a.n(p),b=/^wss?:\/\/([0-9]{1,3}(?:\.[0-9]{1,3}){3}|[a-zA-Z]+)(:[0-9]{1,5})$/i,E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={render_websocket:!1,websocket_validation:!1,web_socket_url:"",response_area:""},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"connect",value:function(){b.test(this.state.web_socket_url)?this.setState({render_websocket:!0}):(this.setState({websocket_validation:!1}),this.toastMessage(3,"Address is not valid!"))}},{key:"onMessage",value:function(e){this.set_response_area(e)}},{key:"onOpen",value:function(){this.setState({websocket_validation:!0}),this.toastMessage(1,"Connected successfully")}},{key:"onClose",value:function(){this.toastMessage(2,"Server not available!"),this.setState({websocket_validation:!1}),this.setState({render_websocket:!1})}},{key:"sendMessage",value:function(e){this.state.render_websocket&&this.refWebSocket.sendMessage(e)}},{key:"set_response_area",value:function(e){this.setState({response_area:e})}},{key:"web_socket_url_change",value:function(e){this.setState({web_socket_url:e.target.value})}},{key:"toastMessage",value:function(e,t){1===e?i.b.success(t):2===e?i.b.warning(t):i.b.error(t)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.render_websocket?s.a.createElement(h.a,{url:this.state.web_socket_url,onOpen:this.onOpen.bind(this),onMessage:this.onMessage.bind(this),onClose:this.onClose.bind(this),ref:function(t){e.refWebSocket=t}}):s.a.createElement("div",null),s.a.createElement("form",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"},"WebSocket Address"),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("input",{type:"text",className:"form-control",onChange:this.web_socket_url_change.bind(this),placeholder:"ws://0.0.0.0:8181"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"},"Status"),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{type:"button",className:"btn "+(this.state.websocket_validation?"btn-success":"btn-danger"),disabled:!0},this.state.websocket_validation?"Connected":"Disconnected"))),s.a.createElement("div",{className:"form-group row"}),s.a.createElement("div",{className:"form-group row"}),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"}),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:this.connect.bind(this)},"Connect")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},"Request")),s.a.createElement("textarea",{className:"form-control","aria-label":"Request",rows:"8"}))),s.a.createElement("div",{className:"col-md-2",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("button",{className:"btn btn-dark",onClick:this.sendMessage.bind(this),style:{marginTop:"30%"}},"Send")))),s.a.createElement("hr",{width:"50%"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},"Response")),s.a.createElement("textarea",{className:"form-control","aria-label":"Response",rows:"8",value:this.state.response_area,disabled:!0})))))}}]),t}(s.a.Component),g=a(12),_=a(5),f=a(11),w=a.n(f);a(33);var k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={uri:"",hub_name:"",events:[],invoke:"",incoming_event:"Response",response_area:"",connected:!1},a.set_connectin_state=a.set_connectin_state.bind(Object(_.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"uri_change",value:function(e){this.setState({uri:e.target.value})}},{key:"hub_name_change",value:function(e){this.setState({hub_name:e.target.value})}},{key:"invoke_change",value:function(e){this.setState({invoke:e.target.value})}},{key:"handleChange",value:function(e){}},{key:"add_event",value:function(e){this.setState({events:e})}},{key:"set_response_area",value:function(e){this.setState({response_area:e})}},{key:"set_connectin_state",value:function(e){this.setState({connected:e})}},{key:"set_incoming_event",value:function(e){this.setState({incoming_event:e})}},{key:"invoke_event",value:function(){if(this.state.invoke.includes(",")){var e,t=this.state.invoke.split(","),a=t[0];t.shift(),console.log(t),(e=window.$.connection[this.state.hub_name]).invoke.apply(e,[a].concat(Object(g.a)(t)))}else window.$.connection[this.state.hub_name].invoke(this.state.invoke)}},{key:"connect",value:function(){var e=this,t=document.createElement("script");t.src=this.state.uri+"/signalr/hubs",t.async=!0,document.body.appendChild(t),t.onload=function(){window.$.connection.hub.url=e.state.uri+"/signalr",window.$.connection[e.state.hub_name].client.connected=function(){};for(var t=function(){var t=e.state.events[a];window.$.connection[e.state.hub_name].client[e.state.events[a]]=function(){e.set_incoming_event(t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];e.set_response_area(n)}},a=0;a<e.state.events.length;a++)t();window.$.connection.hub.reconnecting(function(){i.b.warning("Disconnected. Trying to reconnect"),e.set_connectin_state(!1)}),window.$.connection.hub.reconnected(function(){i.b.success("Back to online"),e.set_connectin_state(!0)}),window.$.connection.hub.disconnected(function(){i.b.error("Disconnected"),e.set_connectin_state(!1)}),window.$.connection.hub.start().done(function(){e.set_connectin_state(!0),i.b.success("Connected successfully"),Object(i.b)("Connection ID= "+window.$.connection.hub.id)}).fail(function(){i.b.warning("Server not available!")})}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("div",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"},"SignalR Address"),s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("input",{type:"text",className:"form-control",onChange:this.uri_change.bind(this),placeholder:"http://localhost:65297"})),s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-1 col-form-label"},"HubName"),s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("input",{type:"text",className:"form-control",onChange:this.hub_name_change.bind(this),placeholder:"ChatHub"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"},"Add Event"),s.a.createElement("div",{className:"col-sm-5"},s.a.createElement(w.a,{value:this.state.events,onChange:this.add_event.bind(this),inputProps:{placeholder:"Add Event"}})))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"},"Status"),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{type:"button",className:"btn "+(this.state.connected?"btn-success":"btn-danger"),disabled:!0},this.state.connected?"Connected":"Disconnected"))),s.a.createElement("div",{className:"form-group row"}),s.a.createElement("div",{className:"form-group row"}),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"}),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:this.connect.bind(this)},"Connect")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},"Invoke Event")),s.a.createElement("input",{type:"text",className:"form-control",onChange:this.invoke_change.bind(this),placeholder:"event_name,param1,param2,..."}))),s.a.createElement("div",{className:"col-md-3",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("button",{className:"btn btn-dark",onClick:this.invoke_event.bind(this)},"Invoke")))),s.a.createElement("hr",{width:"50%"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text",id:"response_span_text"},this.state.incoming_event)),s.a.createElement("textarea",{className:"form-control","aria-label":"Response",rows:"8",value:this.state.response_area,disabled:!0})))))}}]),t}(s.a.Component),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={uri:"",hub_name:"",events:[],invoke:"",incoming_event:"Response",response_area:"",connected:!1},a.set_connectin_state=a.set_connectin_state.bind(Object(_.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"uri_change",value:function(e){this.setState({uri:e.target.value})}},{key:"hub_name_change",value:function(e){this.setState({hub_name:e.target.value})}},{key:"invoke_change",value:function(e){this.setState({invoke:e.target.value})}},{key:"add_event",value:function(e){this.setState({events:e})}},{key:"set_response_area",value:function(e){this.setState({response_area:e})}},{key:"set_connectin_state",value:function(e){this.setState({connected:e})}},{key:"set_incoming_event",value:function(e){this.setState({incoming_event:e})}},{key:"invoke_event",value:function(){if(this.state.invoke.includes(",")){var e,t=this.state.invoke.split(","),a=t[0];t.shift(),console.log(t),(e=window.$.connection[this.state.hub_name]).invoke.apply(e,[a].concat(Object(g.a)(t)))}else window.$.connection[this.state.hub_name].invoke(this.state.invoke)}},{key:"connect",value:function(){var e=this,t=document.createElement("script");t.src=this.state.uri+"/socket.io/socket.io.js",t.async=!0,document.body.appendChild(t),t.onload=function(){var a=document.createElement("script");a.type="text/javascript",a.innerHTML="var socket = io('".concat(e.state.uri,"');"),t.async=!0,document.body.appendChild(a),window.socket.on("connect",function(){e.set_connectin_state(!0),i.b.success("Connected successfully")}),e.state.events.map(function(t){window.socket.on(t,function(){var a=t;e.set_incoming_event(a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];e.set_response_area(JSON.stringify(s))})}),window.socket.on("event",function(e){console.log(e)}),window.socket.on("disconnect",function(){i.b.error("Disconnected"),e.set_connectin_state(!1)})}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("div",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"},"SignalR Address"),s.a.createElement("div",{className:"col-sm-5"},s.a.createElement("input",{type:"text",className:"form-control",onChange:this.uri_change.bind(this),placeholder:"http://localhost:3000"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"},"Add Event"),s.a.createElement("div",{className:"col-sm-5"},s.a.createElement(w.a,{value:this.state.events,onChange:this.add_event.bind(this),inputProps:{placeholder:"Add Event"}})))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"},"Status"),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{type:"button",className:"btn "+(this.state.connected?"btn-success":"btn-danger"),disabled:!0},this.state.connected?"Connected":"Disconnected"))),s.a.createElement("div",{className:"form-group row"}),s.a.createElement("div",{className:"form-group row"}),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"inputPassword",className:"col-sm-2 col-form-label"}),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:this.connect.bind(this)},"Connect")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},"Invoke Event")),s.a.createElement("input",{type:"text",className:"form-control",onChange:this.invoke_change.bind(this),placeholder:"event_name,param1,param2,..."}))),s.a.createElement("div",{className:"col-md-3",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("button",{className:"btn btn-dark",onClick:this.invoke_event.bind(this)},"Invoke")))),s.a.createElement("hr",{width:"50%"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10",style:{padding:30}},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text",id:"response_span_text"},this.state.incoming_event)),s.a.createElement("textarea",{className:"form-control","aria-label":"Response",rows:"8",value:this.state.response_area,disabled:!0})))))}}]),t}(s.a.Component);var y=function(){var e=Object(n.useState)("ws"),t=Object(l.a)(e,2),a=t[0],c=t[1];return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"ribbon"},s.a.createElement("div",{className:"label"},s.a.createElement("a",{className:"github",href:"https://github.com/konuralpt/websocket-tester",target:"_blank"},"GitHub"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{htmlFor:"staticEmail",className:"col-sm-2 col-form-label"},"Socket Type"),s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("select",{className:"selectpicker",onChange:function(e){c(e.target.value)}},s.a.createElement("optgroup",{label:"WebSocket","data-max-options":"2"},s.a.createElement("option",{value:"ws"},"ws://"),s.a.createElement("option",{value:"wss"},"wss://")),s.a.createElement("optgroup",{label:"Event-Driven WebSocket","data-max-options":"2"},s.a.createElement("option",{value:"signalr"},"SignalR"),s.a.createElement("option",{value:"socketio"},"SocketIO")))))))),"ws"===a||"wss"===a?s.a.createElement(E,null):"signalr"===a?s.a.createElement(k,null):"socketio"===a?s.a.createElement(N,null):void 0,s.a.createElement(i.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(34),a(35),a(37),a(38),a(39);o.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.7fd8bd89.chunk.js.map